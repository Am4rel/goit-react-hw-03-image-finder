{"version":3,"sources":["components/Searchbar.js","components/ImageGalleryItem.js","components/ImageGallery.js","components/Button.js","components/Fetch.js","components/Modal.js","App.js","index.js"],"names":["Searchbar","state","searchQuery","onFormInput","e","value","target","setState","onFormSubmit","preventDefault","query","props","submit","className","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGaleeryItem","src","alt","largeImgUrl","data-url","ImageGallery","list","map","listItem","webformatURL","tags","largeImageURL","id","ImageGalleryItem","Button","onClick","onBtnPress","FetchApi","page","axios","get","then","response","data","hits","Modal","App","imagelist","loading","modalVisible","activeImg","a","apiResponse","onLoadMore","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","onGalleryClick","targetClass","resetModal","dataset","url","onKeyPressed","code","onKeyDown","tabIndex","color","height","width","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa7cd133.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport '../styles.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchQuery: \"\"\r\n    }\r\n\r\n    onFormInput = e => {\r\n        const value = e.target.value;\r\n\r\n        this.setState({ searchQuery: value });\r\n    }\r\n\r\n    onFormSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const query = this.state.searchQuery;\r\n        this.setState({ searchQuery: \"\" });\r\n        \r\n        this.props.submit(query);\r\n    }\r\n\r\n    render() {\r\n        \r\n        return <header className=\"Searchbar\">\r\n            <form className=\"SearchForm\" onSubmit={this.onFormSubmit}>\r\n                <button type=\"submit\" className=\"SearchForm-button\">\r\n                    <span className=\"SearchForm-button-label\">Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className=\"SearchForm-input\"\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    onChange={this.onFormInput}\r\n                />\r\n            </form>\r\n        </header>\r\n    }\r\n};","import React from 'react';\r\nimport '../styles.css';\r\n\r\nconst ImageGaleeryItem = props => {\r\n    const { src, alt, largeImgUrl } = props;\r\n    return <li className=\"ImageGalleryItem\">\r\n        <img src={src} alt={alt} data-url={largeImgUrl} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n}\r\n\r\nexport default ImageGaleeryItem","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport '../styles.css';\r\n\r\nconst ImageGallery = props => {\r\n    return <ul className=\"ImageGallery\">\r\n        {props.list.map(listItem => {\r\n            let { webformatURL, tags, largeImageURL, id } = listItem;\r\n            return <ImageGalleryItem key={id} src={webformatURL} alt={tags} largeImgUrl={largeImageURL} />\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport default ImageGallery;","import React from 'react';\r\nimport '../styles.css'\r\n\r\nconst Button = props => {\r\n    return <button type='button' className='Button' onClick={props.onBtnPress}>Load more</button>\r\n}\r\n\r\nexport default Button;","import axios from 'axios';\r\n\r\nconst API_KEY = \"21313402-781cc09b241e8b58cb3e12855\";\r\n\r\n\r\nexport default function FetchApi (query, page) {\r\n    return axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(response => response.data.hits)\r\n}","import React from 'react';\r\n\r\nconst Modal = props => {\r\n    const { src, alt } = props;\r\n    return <div className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n            <img src={src} alt={alt} />\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport Searchbar from './components/Searchbar.js'\r\nimport ImageGallery from './components/ImageGallery.js';\r\nimport Button from './components/Button.js'\r\nimport FetchApi from './components/Fetch.js';\r\nimport Modal from './components/Modal.js'\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport './styles.css'\r\n\r\n\r\nexport default class App extends Component {\r\n    state = {\r\n        imagelist: [],\r\n        page: 1,\r\n        loading: false,\r\n        modalVisible: false\r\n    };\r\n\r\n    searchQuery = \"\";\r\n    activeImg = {};\r\n    \r\n    onFormSubmit = async query => {\r\n        this.setState({ loading: true })\r\n\r\n        this.searchQuery = query;\r\n        const apiResponse = await FetchApi(this.searchQuery, 1);\r\n\r\n        this.setState({ imagelist: [...apiResponse], page: 2, loading: false })\r\n    };\r\n\r\n    onLoadMore = async e => {\r\n        e.preventDefault();\r\n        this.setState({loading: true})\r\n\r\n        const apiResponse = await FetchApi(this.searchQuery, this.state.page);\r\n        this.setState(prevState => { return { imagelist: [...prevState.imagelist, ...apiResponse], page: prevState.page + 1, loading: false  } })\r\n\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    };\r\n\r\n    onGalleryClick = e => {\r\n        const target = e.target;\r\n        const targetClass = target.className;\r\n\r\n        if (!this.state.modalVisible) {\r\n            if (targetClass === \"ImageGalleryItem-image\") {\r\n                this.setState({ modalVisible: true });\r\n                this.activeImg = { src: target.dataset.url, alt: target.alt };\r\n            };\r\n        } else {\r\n            if (targetClass === \"Overlay\") {\r\n                this.resetModal();\r\n            };\r\n        };\r\n    };\r\n\r\n    onKeyPressed = e => {\r\n        if (this.state.modalVisible) {\r\n            e.code === \"Escape\" && this.resetModal();\r\n        };\r\n    };\r\n\r\n    resetModal = () => {\r\n        this.setState({ modalVisible: false });\r\n        this.activeImg = {};\r\n    };\r\n\r\n\r\n    render() {\r\n        return <div onKeyDown={this.onKeyPressed} tabIndex=\"0\">\r\n            <Searchbar submit={this.onFormSubmit}/>\r\n            {this.state.loading ?\r\n                <Loader type=\"Bars\" color=\"#00BFFF\" height={100} width={100} className=\"Loader\" /> :\r\n                this.state.imagelist.length > 0 ?\r\n                    <div onClick={this.onGalleryClick}><ImageGallery list={this.state.imagelist}/><Button onBtnPress={this.onLoadMore} /></div> :\r\n                    <h2 className=\"Placeholder\">Тут пока ничего нет. Воспользуйся поиском, чтобы посмотреть картинки.</h2>\r\n            }\r\n            {this.state.modalVisible && <div onClick={this.onGalleryClick}><Modal src={this.activeImg.src} alt={this.activeImg.alt}/></div>}\r\n        </div>\r\n    };\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}