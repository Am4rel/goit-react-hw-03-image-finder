(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{4:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(21),s=a.n(c),i=a(5),o=a.n(i),l=a(10),u=a(12),m=a(6),h=a(7),b=a(9),d=a(8),j=(a(4),a(0)),g=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchQuery:""},e.onFormInput=function(t){var a=t.target.value;e.setState({searchQuery:a})},e.onFormSubmit=function(t){t.preventDefault();var a=e.state.searchQuery;e.setState({searchQuery:""}),e.props.submit(a)},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.onFormSubmit,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.onFormInput})]})})}}]),a}(r.Component),p=function(e){var t=e.src,a=e.alt,r=e.largeImgUrl;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:t,alt:a,"data-url":r,className:"ImageGalleryItem-image"})})},f=function(e){return Object(j.jsx)("ul",{className:"ImageGallery",children:e.list.map((function(e){var t=e.webformatURL,a=e.tags,r=e.largeImageURL,n=e.id;return Object(j.jsx)(p,{src:t,alt:a,largeImgUrl:r},n)}))})},O=function(e){return Object(j.jsx)("button",{type:"button",className:"Button",onClick:e.onBtnPress,children:"Load more"})},v=a(22),y=a.n(v);function x(e,t){return y.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("21313402-781cc09b241e8b58cb3e12855","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}var S=function(e){var t=e.src,a=e.alt;return Object(j.jsx)("div",{className:"Overlay",children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:a})})})},I=a(23),w=a.n(I),F=function(e){Object(b.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={imagelist:[],page:1,loading:!1,modalVisible:!1},e.searchQuery="",e.activeImg={},e.onFormSubmit=function(){var t=Object(u.a)(o.a.mark((function t(a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),e.searchQuery=a,t.next=4,x(e.searchQuery,1);case 4:r=t.sent,e.setState({imagelist:Object(l.a)(r),page:2,loading:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onLoadMore=function(){var t=Object(u.a)(o.a.mark((function t(a){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({loading:!0}),t.next=4,x(e.searchQuery,e.state.page);case 4:r=t.sent,e.setState((function(e){return{imagelist:[].concat(Object(l.a)(e.imagelist),Object(l.a)(r)),page:e.page+1,loading:!1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onGalleryClick=function(t){var a=t.target,r=a.className;e.state.modalVisible?"Overlay"===r&&e.resetModal():"ImageGalleryItem-image"===r&&(e.setState({modalVisible:!0}),e.activeImg={src:a.dataset.url,alt:a.alt})},e.onKeyPressed=function(t){e.state.modalVisible&&"Escape"===t.code&&e.resetModal()},e.resetModal=function(){e.setState({modalVisible:!1}),e.activeImg={}},e}return Object(h.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{onKeyDown:this.onKeyPressed,tabIndex:"0",children:[Object(j.jsx)(g,{submit:this.onFormSubmit}),this.state.loading?Object(j.jsx)(w.a,{type:"Bars",color:"#00BFFF",height:100,width:100,className:"Loader"}):this.state.imagelist.length>0?Object(j.jsxs)("div",{onClick:this.onGalleryClick,children:[Object(j.jsx)(f,{list:this.state.imagelist}),Object(j.jsx)(O,{onBtnPress:this.onLoadMore})]}):Object(j.jsx)("h2",{className:"Placeholder",children:"\u0422\u0443\u0442 \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442. \u0412\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0441\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438."}),this.state.modalVisible&&Object(j.jsx)("div",{onClick:this.onGalleryClick,children:Object(j.jsx)(S,{src:this.activeImg.src,alt:this.activeImg.alt})})]})}}]),a}(r.Component);s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.aa7cd133.chunk.js.map